<template>
  <div>
    <div class="main-container">
      <h1>JOIN US</h1>
      <h2>h2</h2>
      <p>addWon: {{ addWon }}</p>
      <p>comma: {{ numberComma(number) }}</p>
      <p>Won + comma: {{ numberFormet }}</p>
      <v-btn color="pink" @click="increaseNumber">+ 1,000</v-btn>
      <v-btn color="blue" @click="decreseNumber">- 1,000</v-btn>
    </div>
  </div>
</template>

<script setup>
let number = ref(1000);

// ! 500 document is not defined error
// const $h2 = document.querySelector('h2');
// NextJSëŠ” ëª¨ë“  íŽ˜ì´ì§€ë¥¼ ì„œë²„ì—ì„œ í”„ë¦¬ ë Œë”ë§ í•˜ì—¬ ë³´ì—¬ì£¼ê²Œ ëœë‹¤. í•´ë‹¹ ì‹œì ì— documentì— ì ‘ê·¼í•˜ë ¤ê³  í•˜ë©´ ì ‘ê·¼í•  ìˆ˜ ì—†ì–´ì„œ ì—ëŸ¬ë¥¼ ë±‰ì–´ë‚´ê²Œ ëœë‹¤.

const addWon = computed(() => number.value + 'ì›');
const numberFormet = computed(() => numberComma(number.value) + 'ì›');

console.log('ðŸš¨console.log');
const numberComma = (num) => {
  if (!num) {
    num = 0;
  }
  const parts = num.toString().split('.');
  parts[0] = parts[0].replace(/\B(?=(\d{3})+(?!\d))/g, ',');
  return parts.join('.');
};

watch(number, (newValue, oldValue) => {
  console.log('new:' + newValue);
  console.log('old:' + oldValue);
});

const increaseNumber = () => {
  number.value += 1000;
};

const decreseNumber = () => {
  number.value -= 1000;
};

onMounted(() => {
  const $h1 = document.querySelector('h1');
  console.log('ðŸŒ„ onMounted');
  console.log($h1);
});

onUpdated(() => {
  console.log('updated');
});
</script>

<style scoped></style>
